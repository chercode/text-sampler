services:
  text-sampler:
    build: .
    container_name: text-sampler
    ports:
      - "8000:8000"
    environment:
      TEXT_SAMPLER_DATA_DIR: "/data"

      MAX_FILE_SIZE_MB: "500"
      MAX_CACHE_LINES: "10000000"
      MAX_SAMPLE_SIZE: "1000000"
    volumes:
      - ./src:/app/src

      - ./data:/data:ro
    command: ["uvicorn", "src.server:app", "--host", "0.0.0.0", "--port", "8000", "--reload"]
